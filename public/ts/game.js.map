{"version":3,"file":"game.js","sources":["../../resources/ts/utils/Service.ts","../../resources/ts/utils/Util.ts","../../resources/ts/Piece.ts","../../resources/ts/board/Wall.ts","../../resources/ts/board/Blank.ts","../../resources/ts/Board.ts","../../resources/ts/Snake.ts","../../resources/ts/fruits/Apple.ts","../../resources/ts/fruits/Chili.ts","../../resources/ts/fruits/Banana.ts","../../resources/ts/fruits/Melon.ts","../../resources/ts/fruits/Strawberry.ts","../../resources/ts/Game.ts"],"sourcesContent":["export default class Service {\n\n    constructor () {}\n\n    /**\n     * Method to return avatar based in email.\n     * @param  {String} hash\n     * @param  {Number} size\n     * @return {String}\n     */\n    gravatar(hash : string, size : number = 200): any {\n        return 'http://www.gravatar.com/avatar/' + hash + '.jpg?s=' + size;\n    }\n\n    addItem(name : string, value : string): void {\n        localStorage.setItem(name, value);\n    }\n\n    getItem(item : string): string {\n        return localStorage.getItem(item);\n    }\n\n    removeItem(item: string): void{\n        localStorage.removeItem(item);\n    }\n\n    checkAuth(): boolean{\n        var exists = true;\n        if (localStorage.getItem('email') === null) {\n            exists = false;\n        }\n        return exists;\n    }\n\n    logout(): void {\n        this.removeItem('email');\n    }\n}\n","export default class Util {\n    public static SPEED: number = 200;\n    public static BOARD_COLS: number = 30;\n    public static BOARD_LINES: number = 30;\n    public static KEY_PAUSE: number = 32;\n    public static KEY_UP: number = 38;\n    public static KEY_LEFT: number = 37;\n    public static KEY_RIGHT: number = 39;\n    public static KEY_DOWN: number = 40;\n    public static COLOR_SNAKE: string = '#10A9E7';\n    public static COLOR_BLANK: string = '#fff';\n    public static COLOR_BOARD: string = '#fff';\n    public static COLOR_WALL: string = '#696a6b';\n\n    constructor () {\n\n    }\n\n    /**\n     * Receive two number to define limit of random.\n     * @param  {integer} min\n     * @param  {integer} max\n     * @return {integer}\n     */\n     rand (min : number, max : number): number {\n         return Math.floor(Math.random() * (max - min) + min);\n     }\n\n    /**\n     * Receive array and field used to orde this array.\n     * @param  {array} array\n     * @param  {string} field\n     * @return {integer}\n     */\n     compare(array : any, field : string) : any {\n         return array.sort((a, b) => a.field !== b.field ? a.field < b.field ? -1 : 1 : 0);\n     }\n\n    /**\n     * Method to redirect to other url.\n     * @param  string url\n     * @return void\n     */\n     redirect(url : string) : void {\n         window.location.href = './' + url + '.html';\n     }\n }\n","export default class Piece {\n    public line: number;\n    public column: number;\n    public color: any;\n    public isFruit: boolean;\n\n    constructor (line: number, column: number, color: any) {\n        this.line = line;\n        this.column = column;\n        this.color = color;\n    }\n\n    setColor (color: any): void {\n        this.color = color;\n    }\n\n    view(line: number, column: number): void {\n        document.querySelectorAll('table tr:nth-child(' + line + ') td:nth-child(' + column + ')')[0].className = '';\n        document.querySelectorAll('table tr:nth-child(' + line + ') td:nth-child(' + column + ')')[0].style.backgroundColor = this.color;\n        if (this.isFruit) {\n            document.querySelectorAll('table tr:nth-child(' + line + ') td:nth-child(' + column + ')')[0].className = 'blink';\n        }\n    }\n}\n","import Util from './../utils/Util';\nimport Piece from './../Piece';\n\nexport default class Wall extends Piece {\n    public isFruit: boolean;\n\n    constructor (line: number, column: number) {\n        super(line, column, Util.COLOR_WALL);\n        this.isFruit = false;\n    }\n}\n","import Util from './../utils/Util';\nimport Piece from './../Piece';\n\nexport default class Wall extends Piece {\n    public isFruit: boolean;\n\n    constructor (line: number, column: number) {\n        super(line, column, Util.COLOR_BLANK);\n        this.isFruit = false;\n    }\n}\n","import Util from './utils/Util';\nimport Wall from './board/Wall';\nimport Blank from './board/Blank';\n\nexport default class Board {\n    private lines: number;\n    private cols: number;\n    private displayInView: any;\n    private colorBoard: any = Util.COLOR_BOARD;\n    private colorWall: any = Util.COLOR_WALL;\n    private board: any = [];\n\n    constructor (lines: number, cols: number, displayInView: any) {\n        this.lines = lines;\n        this.cols = cols;\n        this.displayInView = displayInView;\n\n        this.board = new Array(this.lines);\n        this.create();\n    }\n\n    get(): any {\n        return this.board;\n    }\n\n    create(): void {\n        for (var line = 0; line < this.lines; line++) {\n            this.board[line] = new Array(this.cols);\n            for ( var col = 0; col < this.cols; col++) {\n                if (line == 0 || line == this.cols -1 || col == 0 || col == this.lines -1) {\n                    this.board[line][col] = new Wall(line, col);\n                } else {\n                    this.board[line][col] = new Blank(line, col);\n                }\n            }\n        }\n    }\n\n    view(): void {\n        var innerHTML = \"\";\n        innerHTML += \"<table>\";\n        for (let line = 0; line < this.lines; line++) {\n            innerHTML += \"<tr>\";\n            for ( let col = 0; col < this.cols; col++) {\n                innerHTML += \"<td style='background-color: \" + this.board[line][col].color + \"'></td>\";\n            }\n            innerHTML += \"</tr>\";\n        }\n        innerHTML += \"</table>\";\n        this.displayInView.innerHTML = innerHTML;\n    }\n\n    clean(posX: number, posY: number): void {\n        document.querySelectorAll('table tr:nth-child(' + posX + ') td:nth-child(' + posY + ')')[0].style.backgroundColor = this.colorBoard;\n    }\n}\n","import Service from './utils/Service';\nimport Util from './utils/Util';\n\nexport default class Snake {\n    private x: number;\n    private y: number;\n    private color: any = Util.COLOR_SNAKE;\n    private snake: any = [];\n    private service: any;\n\n    constructor (posX: number, posY: number) {\n        this.x = posX;\n        this.y = posY;\n\n        let service = new Service();\n        this.color = service.getItem('color') === undefined ? this.color : service.getItem('color');\n        this.create();\n    }\n\n    create(): void {\n        this.snake.unshift({\n            x : this.x,\n            y : this.y\n        });\n    }\n\n    update(posX: number, posY: number): any {\n        this.snake.unshift({\n            x : posX,\n            y : posY\n        });\n        return this.snake;\n    }\n\n    remove(): any {\n        return this.snake.pop();\n    }\n\n    view(posX: number, posY: number): void{\n        document.querySelectorAll('table tr:nth-child(' + posX + ') td:nth-child(' + posY + ')')[0].style.backgroundColor = this.color;\n    }\n}\n","import Piece from './../Piece';\n\nexport default class Apple extends Piece {\n    public isFruit: boolean;\n    private speed: number = 100;\n    private power: number = 20;\n\n    constructor (line: number, column: number) {\n        super(line, column, '#009688');\n        this.isFruit = true;\n    }\n}\n\n\n","import Piece from './../Piece';\n\nexport default class Chili extends Piece {\n    public isFruit: boolean;\n    private speed: number = 100;\n    private power: number = 20;\n\n    constructor (line: number, column: number) {\n        super(line, column, '#9c27b0');\n        this.isFruit = true;\n    }\n}\n","import Piece from './../Piece';\n\nexport default class Banana extends Piece {\n    public isFruit: boolean;\n    private speed: number = 100;\n    private power: number = 20;\n\n    constructor (line: number, column: number) {\n        super(line, column, '#ffeb3b');\n        this.isFruit = true;\n    }\n}\n\n","import Piece from './../Piece';\n\nexport default class Melon extends Piece {\n    public isFruit: boolean;\n    private speed: number = 100;\n    private power: number = 20;\n\n    constructor (line: number, column: number) {\n        super(line, column, '#4caf50');\n        this.isFruit = true;\n    }\n}\n","import Piece from './../Piece';\n\nexport default class Strawberry extends Piece {\n    public isFruit: boolean;\n    private speed: number = 100;\n    private power: number = 5;\n\n    constructor (line: number, column: number) {\n        super(line, column, '#f44336');\n        this.isFruit = true;\n    }\n}\n","import Service from './utils/Service';\nimport Util from './utils/Util';\nimport Board from './Board';\nimport Blank from './board/Blank';\nimport Snake from './Snake';\nimport Apple from './fruits/Apple';\nimport Chili from './fruits/Chili';\nimport Banana from './fruits/Banana';\nimport Melon from './fruits/Melon';\nimport Strawberry from './fruits/Strawberry';\n\nclass Game {\n    private util: any;\n    private service: any;\n    private gamInBoard: any;\n    private logout: any;\n    private listFruit: any = [0,1,2,3,4];\n    private length: number = 0;\n    private tailX: any = [];\n    private tailY: any = [];\n    private running: boolean = false;\n    private gameOver: boolean = false;\n    private direction: number = 2;\n    private int: number;\n    private tempdir = 2;\n    private snakePosX: number = 2;\n    private snakePosY: number = 2;\n    private score: number = 0;\n    private time: number = 0;\n    private numberLines: number = Util.BOARD_LINES;\n    private numberCols: number = Util.BOARD_COLS;\n    private interval: number = Util.SPEED;\n    private board: any;\n    private matriz: any;\n    private snake: any;\n\n    constructor () {\n\n        this.util = new Util();\n        this.service = new Service();\n\n        fetch('https://randomuser.me/api/?results=9&nat=us')\n            .then( response => { return response.json(); })\n            .then( data => {\n                const playerList = [];\n                var points = 1400;\n                data.results.forEach( (val) => {\n                    points = this.util.rand(100, 2000);\n                    playerList.push({\n                        'name' : val.name.first + ' ' + val.name.last,\n                        'email' : val.email,\n                        'points' : points,\n                        'photo' : val.picture.medium\n                    });\n                });\n                this.service.addItem('players', JSON.stringify(playerList));\n            });\n\n        if (!this.service.checkAuth()) {\n            this.util.redirect('index');\n        }\n\n        this.gamInBoard = document.querySelector('game-board');\n        this.logout = document.querySelector('#logout');\n\n        if (this.gamInBoard) {\n\n            this.tailX = [this.snakePosX];\n            this.tailY = [this.snakePosY];\n\n            this.gameLoop = this.gameLoop.bind(this);\n            this.update = this.update.bind(this);\n\n            // Create Board\n            this.board = new Board(this.numberLines, this.numberCols, this.gamInBoard);\n            this.board.create();\n            this.matriz = this.board.get();\n            this.board.view();\n\n            // Write Fruit in Board\n            this.writeFruit();\n\n            // Snake\n            this.snake = new Snake(this.snakePosX, this.snakePosY);\n            // Write Snake in Board\n            this.snake.view(this.snakePosX, this.snakePosY);\n            this.matriz[this.snakePosX][this.snakePosY] = this.snake;\n\n            this.int = setInterval(this.gameLoop, this.interval);\n\n            this.speedGame();\n        }\n\n        this.addEventListeners();\n    }\n\n    resetInterval(): void {\n        clearInterval(this.int);\n        this.int = setInterval(this.gameLoop, this.interval);\n    }\n\n    writeFruit(): void {\n        let lineRand = this.util.rand(2, this.numberLines - 2);\n        let columnRand = this.util.rand(2, this.numberCols - 2);\n        let fruit;\n        let numberFruit = this.listFruit[Math.floor(Math.random() * this.listFruit.length)];\n\n        if (numberFruit === 0) {\n            // Chili :: Super Fast\n            fruit = new Chili(lineRand, columnRand);\n        } else if (numberFruit === 1) {\n            // Banana :: Change Keyboard\n            fruit = new Banana(lineRand, columnRand);\n        } else if (numberFruit === 2) {\n            // Melon :: Super Slow\n            fruit = new Melon(lineRand, columnRand);\n        } else if (numberFruit === 3) {\n            // Apple :: Invisibel Wall\n            fruit = new Apple(lineRand, columnRand);\n        } else {\n            // Strawberry :: Explode Snake\n            fruit = new Strawberry(lineRand, columnRand);\n        }\n\n        this.matriz[lineRand][columnRand] = fruit;\n        fruit.view(lineRand, columnRand);\n    }\n\n    updateSnake(eat: boolean): void {\n        // Update Snake\n        this.snake.update(this.snakePosX, this.snakePosY);\n        this.snake.view(this.snakePosX, this.snakePosY);\n\n        if (eat) return;\n        // Remove Snake Tail\n        var tailSnake = this.snake.remove();\n        // Clean Snake Trail\n        this.board.clean(tailSnake.x , tailSnake.y);\n    }\n\n    gameLoop(): void {\n        if (this.running && !this.gameOver) {\n            this.update();\n        } else if (this.gameOver){\n            clearInterval(this.int);\n        }\n    }\n\n    update(): void {\n        this.direction = this.tempdir;\n        // updates the position of the snake according to the direction\n        if (this.direction == 0) {\n            this.snakePosY--;\n        } else if (this.direction == -1) {\n            this.snakePosY++;\n        } else if (this.direction == 1) {\n            this.snakePosX--;\n        } else if (this.direction == 2) {\n            this.snakePosX++;\n        }\n\n        // draws the head of the snake on the tail\n        this.updateSnake(false);\n\n        // checks for collisions with self\n        // for (var i = this.tailX.length - 1; i >=0; i--) {\n        //     if (this.snakePosX == this.tailX[i] && this.snakePosY == this.tailY[i]) {\n        //         this.gameOver = true;\n        //         break;\n        //     }\n        // }\n\n        // checks for collision with wall\n        if (this.snakePosX == 0 || this.snakePosX == this.numberCols - 1 || this.snakePosY == 0 || this.snakePosY == this.numberLines - 1) {\n            this.gameOver = true;\n            //checks for collisions with fruit\n        } else if (this.matriz[this.snakePosX][this.snakePosY].isFruit === true) {\n            this.score += this.matriz[this.snakePosX][this.snakePosY].power;\n            this.matriz[this.snakePosX][this.snakePosY] = new Blank(this.snakePosX, this.snakePosY);\n            this.resetInterval();\n\n            this.updateSnake(true);\n            // creates new fruit, which automatically replaces the old one\n            this.writeFruit();\n            this.scoreGame();\n        }\n\n        this.speedGame();\n        this.timeGame();\n    }\n\n    speedGame(): void {\n        document.querySelector(\"speed\").innerHTML = this.interval;\n    }\n\n    scoreGame(): void {\n        document.querySelector(\"score\").innerHTML = this.score;\n    }\n\n    timeGame(): void {\n        setInterval(this.time, 100);\n        document.querySelector(\"time\").innerHTML = this.time++;\n    }\n\n    keyPressed(evt: any): void {\n        switch(evt.keyCode) {\n        case Util.KEY_UP:\n            evt.preventDefault();\n            if (this.direction != 2) {\n                this.tempdir = 1;\n            }\n            break;\n        case Util.KEY_DOWN:\n            evt.preventDefault();\n            if (this.direction != 1) {\n                this.tempdir = 2;\n            }\n            break;\n        case Util.KEY_RIGHT:\n            evt.preventDefault();\n            if (this.direction != 0) {\n                this.tempdir = -1;\n            }\n            break;\n        case Util.KEY_LEFT:\n            evt.preventDefault();\n            if (this.direction != -1) {\n                this.tempdir = 0;\n            }\n            break;\n        case Util.KEY_PAUSE:\n            evt.preventDefault();\n            this.running = !this.running;\n            break;\n        }\n    }\n\n    addEventListeners(): void {\n        window.addEventListener('keydown', evt => {\n            this.keyPressed(evt);\n        });\n\n        this.logout.addEventListener('click', evt => {\n            evt.preventDefault();\n            this.service.logout();\n            this.util.redirect('index');\n        });\n    }\n}\n\nnew Game();\n"],"names":["Blank"],"mappings":"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"}