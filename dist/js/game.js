!function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=171)}({165:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e,n){this.line=t,this.column=e,this.color=n}return t.prototype.setColor=function(t){this.color=t},t.prototype.view=function(t,e){document.querySelectorAll("table tr:nth-child("+t+") td:nth-child("+e+")")[0].className="",document.querySelectorAll("table tr:nth-child("+t+") td:nth-child("+e+")")[0].style.backgroundColor=this.color,this.isFruit&&(document.querySelectorAll("table tr:nth-child("+t+") td:nth-child("+e+")")[0].className="blink")},t}();e.default=r},168:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(29),i=n(165),s=function(t){function e(e,n){var r=t.call(this,e,n,o.default.COLOR_BLANK)||this;return r.isFruit=!1,r}return r(e,t),e}(i.default);e.default=s},171:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(41),o=n(29),i=n(168),s=n(172),a=n(173),u=n(174),c=n(175),l=n(176),h=n(177),f=n(178);new(function(){function t(){this.listFruit=[0,1,2,3,4],this.length=0,this.tailX=[],this.tailY=[],this.running=!1,this.gameOver=!1,this.direction=2,this.tempdir=2,this.snakePosX=2,this.snakePosY=2,this.score=0,this.time=0,this.numberLines=o.default.BOARD_LINES,this.numberCols=o.default.BOARD_COLS,this.interval=o.default.SPEED,this.util=new o.default,this.service=new r.default,this.service.checkAuth()||this.util.redirect("index"),this.gamInBoard=document.querySelector("game-board"),this.gamInBoard&&(this.tailX=[this.snakePosX],this.tailY=[this.snakePosY],this.gameLoop=this.gameLoop.bind(this),this.update=this.update.bind(this),this.board=new f.default(this.numberLines,this.numberCols,this.gamInBoard),this.board.create(),this.matriz=this.board.get(),this.board.view(),this.writeFruit(),this.snake=new s.default(this.snakePosX,this.snakePosY),this.snake.view(this.snakePosX,this.snakePosY),this.matriz[this.snakePosX][this.snakePosY]=this.snake,this.int=setInterval(this.gameLoop,this.interval),this.speedGame()),this.addEventListeners()}return t.prototype.resetInterval=function(){clearInterval(this.int),this.int=setInterval(this.gameLoop,this.interval)},t.prototype.writeFruit=function(){var t,e=this.util.rand(2,this.numberLines-2),n=this.util.rand(2,this.numberCols-2),r=this.listFruit[Math.floor(Math.random()*this.listFruit.length)];t=0===r?new u.default(e,n):1===r?new c.default(e,n):2===r?new l.default(e,n):3===r?new a.default(e,n):new h.default(e,n),this.matriz[e][n]=t,t.view(e,n)},t.prototype.updateSnake=function(t){if(this.snake.update(this.snakePosX,this.snakePosY),this.snake.view(this.snakePosX,this.snakePosY),!t){var e=this.snake.remove();this.board.clean(e.x,e.y)}},t.prototype.gameLoop=function(){this.running&&!this.gameOver?this.update():this.gameOver&&clearInterval(this.int)},t.prototype.update=function(){this.direction=this.tempdir,0==this.direction?this.snakePosY--:-1==this.direction?this.snakePosY++:1==this.direction?this.snakePosX--:2==this.direction&&this.snakePosX++,this.updateSnake(!1),0==this.snakePosX||this.snakePosX==this.numberCols-1||0==this.snakePosY||this.snakePosY==this.numberLines-1?this.gameOver=!0:!0===this.matriz[this.snakePosX][this.snakePosY].isFruit&&(this.score+=this.matriz[this.snakePosX][this.snakePosY].power,this.matriz[this.snakePosX][this.snakePosY]=new i.default(this.snakePosX,this.snakePosY),this.resetInterval(),this.updateSnake(!0),this.writeFruit(),this.scoreGame()),this.speedGame(),this.timeGame()},t.prototype.speedGame=function(){document.querySelector("speed").innerHTML=this.interval},t.prototype.scoreGame=function(){document.querySelector("score").innerHTML=this.score},t.prototype.timeGame=function(){setInterval(this.time,100),document.querySelector("time").innerHTML=this.time++},t.prototype.keyPressed=function(t){switch(t.keyCode){case o.default.KEY_UP:t.preventDefault(),2!=this.direction&&(this.tempdir=1);break;case o.default.KEY_DOWN:t.preventDefault(),1!=this.direction&&(this.tempdir=2);break;case o.default.KEY_RIGHT:t.preventDefault(),0!=this.direction&&(this.tempdir=-1);break;case o.default.KEY_LEFT:t.preventDefault(),-1!=this.direction&&(this.tempdir=0);break;case o.default.KEY_PAUSE:t.preventDefault(),this.running=!this.running}},t.prototype.addEventListeners=function(){var t=this;window.addEventListener("keydown",function(e){t.keyPressed(e)}),document.querySelector("#logout").addEventListener("click",function(e){e.preventDefault(),t.service.logout(),t.util.redirect("index")})},t}())},172:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(41),o=n(28),i=n(29),s=function(){function t(t,e){this.color=i.default.COLOR_SNAKE,this.snake=[],this.x=t,this.y=e,this.service=new r.default,this.storage=new o.default,this.color=void 0===this.storage.getItem("color")?this.color:this.storage.getItem("color"),this.create()}return t.prototype.create=function(){this.snake.unshift({x:this.x,y:this.y})},t.prototype.update=function(t,e){return this.snake.unshift({x:t,y:e}),this.snake},t.prototype.remove=function(){return this.snake.pop()},t.prototype.view=function(t,e){document.querySelectorAll("table tr:nth-child("+t+") td:nth-child("+e+")")[0].style.backgroundColor=this.color},t}();e.default=s},173:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(165),i=function(t){function e(e,n){var r=t.call(this,e,n,"#009688")||this;return r.speed=100,r.power=20,r.isFruit=!0,r}return r(e,t),e}(o.default);e.default=i},174:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(165),i=function(t){function e(e,n){var r=t.call(this,e,n,"#9c27b0")||this;return r.speed=100,r.power=20,r.isFruit=!0,r}return r(e,t),e}(o.default);e.default=i},175:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(165),i=function(t){function e(e,n){var r=t.call(this,e,n,"#ffeb3b")||this;return r.speed=100,r.power=20,r.isFruit=!0,r}return r(e,t),e}(o.default);e.default=i},176:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(165),i=function(t){function e(e,n){var r=t.call(this,e,n,"#4caf50")||this;return r.speed=100,r.power=20,r.isFruit=!0,r}return r(e,t),e}(o.default);e.default=i},177:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(165),i=function(t){function e(e,n){var r=t.call(this,e,n,"#f44336")||this;return r.speed=100,r.power=5,r.isFruit=!0,r}return r(e,t),e}(o.default);e.default=i},178:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(29),o=n(179),i=n(168),s=function(){function t(t,e,n){this.colorBoard=r.default.COLOR_BOARD,this.colorWall=r.default.COLOR_WALL,this.board=[],this.lines=t,this.cols=e,this.displayInView=n,this.board=new Array(this.lines),this.create(),this.addEventListeners()}return t.prototype.get=function(){return this.board},t.prototype.create=function(){for(var t=0;t<this.lines;t++){this.board[t]=new Array(this.cols);for(var e=0;e<this.cols;e++)0==t||t==this.cols-1||0==e||e==this.lines-1?this.board[t][e]=new o.default(t,e):this.board[t][e]=new i.default(t,e)}},t.prototype.view=function(){var t="";t+="<table>";for(var e=0;e<this.lines;e++){t+="<tr>";for(var n=0;n<this.cols;n++)t+="<td style='background-color: "+this.board[e][n].color+"'></td>";t+="</tr>"}t+="</table>",this.displayInView.innerHTML=t},t.prototype.clean=function(t,e){document.querySelectorAll("table tr:nth-child("+t+") td:nth-child("+e+")")[0].style.backgroundColor=this.colorBoard},t.prototype.addEventListeners=function(){var t=this;document.querySelector("#logout").addEventListener("click",function(e){e.preventDefault(),t.service.logout(),t.util.redirect("index")})},t}();e.default=s},179:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(29),i=n(165),s=function(t){function e(e,n){var r=t.call(this,e,n,o.default.COLOR_WALL)||this;return r.isFruit=!1,r}return r(e,t),e}(i.default);e.default=s},28:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){}return t.prototype.addItem=function(t,e){localStorage.setItem(t,e)},t.prototype.getItem=function(t){return localStorage.getItem(t)},t.prototype.removeItem=function(t){localStorage.removeItem(t)},t}();e.default=r},29:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){}return t.prototype.rand=function(t,e){return Math.floor(Math.random()*(e-t)+t)},t.prototype.compare=function(t,e){return t.sort(function(t,e){return t.field!==e.field?t.field<e.field?-1:1:0})},t.prototype.redirect=function(t){window.location.href="./"+t+".html"},t.prototype.online=function(){return navigator.onLine},t.prototype.connection=function(){return navigator.connection},t.prototype.battery=function(){var t={};return navigator.getBattery().then(function(e){t=e,e.addEventListener("chargingchange",function(){t=e})}),t},t.SPEED=200,t.BOARD_COLS=30,t.BOARD_LINES=30,t.KEY_PAUSE=32,t.KEY_UP=38,t.KEY_LEFT=37,t.KEY_RIGHT=39,t.KEY_DOWN=40,t.COLOR_SNAKE="#10A9E7",t.COLOR_BLANK="#fff",t.COLOR_BOARD="#fff",t.COLOR_WALL="#696a6b",t}();e.default=r},41:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(28),o=function(){function t(){this.storage=new r.default}return t.prototype.gravatar=function(t,e){return void 0===e&&(e=200),"http://www.gravatar.com/avatar/"+t+".jpg?s="+e},t.prototype.checkAuth=function(){var t=!0;return null===localStorage.getItem("email")&&(t=!1),t},t.prototype.logout=function(){localStorage.clear()},t}();e.default=o}});